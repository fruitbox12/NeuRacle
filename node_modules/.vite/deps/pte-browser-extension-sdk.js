import {
  __commonJS
} from "./chunk-WWO6H54A.js";

// node_modules/pte-browser-extension-sdk/out/_types.js
var require_types = __commonJS({
  "node_modules/pte-browser-extension-sdk/out/_types.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.MessageTarget = exports.ActionType = void 0;
    var ActionType;
    (function(ActionType2) {
      ActionType2["GetAccountAddress"] = "getAccountAddress";
      ActionType2["GetAccountAddressSuccess"] = "getAccountAddressSuccess";
      ActionType2["GetAccountAddressFailure"] = "getAccountAddressFailure";
      ActionType2["SignTransaction"] = "signTransaction";
      ActionType2["SignTransactionSuccess"] = "signTransactionSuccess";
      ActionType2["SignTransactionFailure"] = "signTransactionFailure";
    })(ActionType = exports.ActionType || (exports.ActionType = {}));
    var MessageTarget;
    (function(MessageTarget2) {
      MessageTarget2[MessageTarget2["Extension"] = 0] = "Extension";
      MessageTarget2[MessageTarget2["Dapp"] = 1] = "Dapp";
    })(MessageTarget = exports.MessageTarget || (exports.MessageTarget = {}));
  }
});

// node_modules/pte-browser-extension-sdk/out/action.js
var require_action = __commonJS({
  "node_modules/pte-browser-extension-sdk/out/action.js"(exports) {
    "use strict";
    var __awaiter = exports && exports.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.waitForAction = exports.sendAction = void 0;
    var sendAction = ({ type, payload }) => {
      const event = new CustomEvent("radix#chromeExtension#send", {
        detail: { type, payload }
      });
      window.dispatchEvent(event);
    };
    exports.sendAction = sendAction;
    var waitForAction = (successType, errorTypes) => __awaiter(void 0, void 0, void 0, function* () {
      return new Promise((resolve, reject) => {
        window.addEventListener("radix#chromeExtension#receive", (event) => {
          const { action } = event.detail;
          if (action.type === successType)
            resolve(action);
          else if (errorTypes === null || errorTypes === void 0 ? void 0 : errorTypes.includes(action.type))
            reject(action);
        }, {
          once: true
        });
      });
    });
    exports.waitForAction = waitForAction;
  }
});

// node_modules/pte-browser-extension-sdk/out/index.js
var require_out = __commonJS({
  "node_modules/pte-browser-extension-sdk/out/index.js"(exports) {
    "use strict";
    var __createBinding = exports && exports.__createBinding || (Object.create ? function(o, m, k, k2) {
      if (k2 === void 0)
        k2 = k;
      var desc = Object.getOwnPropertyDescriptor(m, k);
      if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
        desc = { enumerable: true, get: function() {
          return m[k];
        } };
      }
      Object.defineProperty(o, k2, desc);
    } : function(o, m, k, k2) {
      if (k2 === void 0)
        k2 = k;
      o[k2] = m[k];
    });
    var __exportStar = exports && exports.__exportStar || function(m, exports2) {
      for (var p in m)
        if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports2, p))
          __createBinding(exports2, m, p);
    };
    var __awaiter = exports && exports.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.getAccountAddress = exports.signTransaction = void 0;
    __exportStar(require_types(), exports);
    __exportStar(require_action(), exports);
    var _types_1 = require_types();
    var action_1 = require_action();
    var signTransaction = function(manifest) {
      return __awaiter(this, void 0, void 0, function* () {
        (0, action_1.sendAction)({
          type: _types_1.ActionType.SignTransaction,
          payload: manifest
        });
        const response = yield (0, action_1.waitForAction)(_types_1.ActionType.SignTransactionSuccess, [_types_1.ActionType.SignTransactionFailure]);
        console.log("Response: " + response);
        return response.payload;
      });
    };
    exports.signTransaction = signTransaction;
    var getAccountAddress = function() {
      return __awaiter(this, void 0, void 0, function* () {
        (0, action_1.sendAction)({
          type: _types_1.ActionType.GetAccountAddress,
          payload: ""
        });
        const response = yield (0, action_1.waitForAction)(_types_1.ActionType.GetAccountAddressSuccess, [_types_1.ActionType.GetAccountAddressFailure]);
        console.log("Response: " + response);
        return response.payload;
      });
    };
    exports.getAccountAddress = getAccountAddress;
  }
});

// dep:pte-browser-extension-sdk
var pte_browser_extension_sdk_default = require_out();
export {
  pte_browser_extension_sdk_default as default
};
//# sourceMappingURL=pte-browser-extension-sdk.js.map
